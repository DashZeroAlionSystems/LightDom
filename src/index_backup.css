/**
 * LightDom Material Design 3 System
 * Main CSS Entry Point
 */

/* Tailwind Base, Components, and Utilities */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Material Design 3 Foundation */
@import './styles/material-design-3.css';

/* Base Layer - Reset and Foundations */
@layer base {
  * {
    @apply box-border m-0 p-0;
  }

  html {
    @apply text-base antialiased;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply font-sans bg-background text-on-surface;
    min-height: 100vh;
    line-height: 1.5;
  }

  /* Typography */
  h1 {
    @apply font-heading text-headline-lg font-normal;
  }

  h2 {
    @apply font-heading text-headline-md font-normal;
  }

  h3 {
    @apply font-heading text-headline-sm font-normal;
  }

  h4 {
    @apply font-heading text-title-lg font-normal;
  }

  h5 {
    @apply font-heading text-title-md font-medium;
  }

  h6 {
    @apply font-heading text-title-sm font-medium;
  }

  p {
    @apply text-body-lg;
  }

  /* Links */
  a {
    @apply text-primary no-underline transition-colors duration-medium-2;
  }

  a:hover {
    @apply text-primary-300;
  }

  /* Form Elements */
  button {
    @apply font-inherit cursor-pointer border-none outline-none transition-all duration-medium-2;
  }

  button:disabled {
    @apply cursor-not-allowed opacity-50;
  }

  input,
  textarea,
  select {
    @apply font-inherit outline-none transition-all duration-medium-2;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-outline rounded-md;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-outline-variant;
  }
}

/* Component Layer - Reusable Patterns */
@layer components {
  /* Material Design 3 Buttons */
  .md3-btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-6 py-3 rounded-full;
    @apply font-medium text-label-lg;
    @apply transition-all duration-medium-2;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;
  }

  .md3-btn-filled {
    @apply md3-btn bg-primary text-on-primary;
    @apply hover:shadow-level-1 active:shadow-level-2;
  }

  .md3-btn-outlined {
    @apply md3-btn border border-outline text-primary;
    @apply hover:bg-primary hover:bg-opacity-10;
  }

  .md3-btn-text {
    @apply md3-btn text-primary;
    @apply hover:bg-primary hover:bg-opacity-10;
  }

  .md3-btn-elevated {
    @apply md3-btn bg-surface-container-low text-primary shadow-level-1;
    @apply hover:shadow-level-2;
  }

  .md3-btn-tonal {
    @apply md3-btn bg-secondary-container text-on-secondary-container;
    @apply hover:shadow-level-1;
  }

  /* Material Design 3 Cards */
  .md3-card {
    @apply rounded-xl overflow-hidden transition-all duration-medium-2;
  }

  .md3-card-filled {
    @apply md3-card bg-surface-container-highest;
  }

  .md3-card-elevated {
    @apply md3-card bg-surface-container-low shadow-level-1;
    @apply hover:shadow-level-2;
  }

  .md3-card-outlined {
    @apply md3-card border border-outline bg-surface;
  }

  /* Material Design 3 Text Fields */
  .md3-text-field {
    @apply w-full px-4 py-3 rounded-md;
    @apply bg-surface-container border border-outline;
    @apply text-on-surface text-body-lg;
    @apply transition-all duration-medium-2;
    @apply focus:border-primary focus:ring-2 focus:ring-primary focus:ring-opacity-20;
  }

  /* Material Design 3 Chips */
  .md3-chip {
    @apply inline-flex items-center gap-2 px-4 py-2;
    @apply rounded-lg text-label-lg;
    @apply transition-all duration-medium-2;
  }

  .md3-chip-assist {
    @apply md3-chip border border-outline;
    @apply hover:bg-on-surface hover:bg-opacity-10;
  }

  .md3-chip-filter {
    @apply md3-chip border border-outline;
    @apply hover:bg-on-surface hover:bg-opacity-10;
  }

  .md3-chip-filter-selected {
    @apply md3-chip bg-secondary-container text-on-secondary-container;
  }

  .md3-chip-input {
    @apply md3-chip bg-surface-container-highest;
    @apply hover:shadow-level-1;
  }

  .md3-chip-suggestion {
    @apply md3-chip border border-outline;
    @apply hover:bg-on-surface hover:bg-opacity-10;
  }

  /* Utility Classes for Spacing */
  .md3-spacing-xs {
    @apply gap-1 p-1;
  }

  .md3-spacing-sm {
    @apply gap-2 p-2;
  }

  .md3-spacing-md {
    @apply gap-4 p-4;
  }

  .md3-spacing-lg {
    @apply gap-6 p-6;
  }

  .md3-spacing-xl {
    @apply gap-8 p-8;
  }
}

/* Utility Layer - Custom Utilities */
@layer utilities {
  /* Animation Utilities */
  .animate-fade-in {
    animation: fadeIn 300ms cubic-bezier(0.2, 0.0, 0, 1.0);
  }

  .animate-slide-up {
    animation: slideUp 300ms cubic-bezier(0.05, 0.7, 0.1, 1.0);
  }

  .animate-scale-in {
    animation: scaleIn 200ms cubic-bezier(0.05, 0.7, 0.1, 1.0);
  }

  /* State Layer Utilities */
  .state-layer {
    @apply relative overflow-hidden;
  }

  .state-layer::before {
    content: '';
    @apply absolute inset-0 bg-current opacity-0 transition-opacity duration-medium-2;
  }

  .state-layer:hover::before {
    @apply opacity-10;
  }

  .state-layer:active::before {
    @apply opacity-20;
  }

  /* Elevation Utilities */
  .elevation-1 {
    @apply shadow-level-1;
  }

  .elevation-2 {
    @apply shadow-level-2;
  }

  .elevation-3 {
    @apply shadow-level-3;
  }

  .elevation-4 {
    @apply shadow-level-4;
  }

  .elevation-5 {
    @apply shadow-level-5;
  }

  /* Surface Utilities */
  .surface-dim {
    @apply bg-surface-dim;
  }

  .surface {
    @apply bg-surface;
  }

  .surface-bright {
    @apply bg-surface-bright;
  }

  .surface-container-lowest {
    @apply bg-surface-container-lowest;
  }

  .surface-container-low {
    @apply bg-surface-container-low;
  }

  .surface-container {
    @apply bg-surface-container;
  }

  .surface-container-high {
    @apply bg-surface-container-high;
  }

  .surface-container-highest {
    @apply bg-surface-container-highest;
  }
}
