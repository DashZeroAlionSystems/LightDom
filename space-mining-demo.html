<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LightDom Space Mining Dashboard</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background-color: #0f172a;
        color: #f8fafc;
      }
      .dashboard {
        min-height: 100vh;
        padding: 1.5rem;
      }
      .container {
        max-width: 80rem;
        margin: 0 auto;
      }
      .header {
        margin-bottom: 2rem;
      }
      .title {
        font-size: 1.875rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }
      .subtitle {
        color: #94a3b8;
      }
      .card {
        background-color: #1e293b;
        border-radius: 0.5rem;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }
      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 1.5rem;
      }
      .stat-card {
        background-color: #1e293b;
        border-radius: 0.5rem;
        padding: 1rem;
        text-align: center;
      }
      .stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
      }
      .stat-label {
        font-size: 0.875rem;
        color: #94a3b8;
      }
      .blue { color: #60a5fa; }
      .green { color: #4ade80; }
      .purple { color: #c084fc; }
      .orange { color: #fb923c; }
      .mining-form {
        display: flex;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }
      .input {
        flex: 1;
        background-color: #334155;
        border: 1px solid #475569;
        border-radius: 0.5rem;
        color: #ffffff;
        padding: 0.5rem 1rem;
      }
      .input:focus {
        outline: none;
        border-color: #2563eb;
      }
      .button {
        background-color: #2563eb;
        color: white;
        border: none;
        padding: 0.5rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }
      .button:hover {
        background-color: #1d4ed8;
      }
      .button:disabled {
        background-color: #1e40af;
        opacity: 0.5;
        cursor: not-allowed;
      }
      .tabs {
        display: flex;
        gap: 0.25rem;
        margin-bottom: 1.5rem;
      }
      .tab {
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }
      .tab.active {
        background-color: #2563eb;
        color: white;
      }
      .tab:not(.active) {
        background-color: #334155;
        color: #cbd5e1;
      }
      .tab:not(.active):hover {
        background-color: #475569;
      }
      .structure-card {
        background-color: #334155;
        border-radius: 0.5rem;
        padding: 1rem;
        margin-bottom: 1rem;
      }
      .structure-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 0.75rem;
      }
      .structure-title {
        font-weight: 600;
        font-size: 1.125rem;
      }
      .structure-url {
        font-size: 0.875rem;
        color: #94a3b8;
      }
      .structure-path {
        font-size: 0.75rem;
        color: #64748b;
      }
      .badge {
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
      }
      .badge-success {
        background-color: #16a34a;
        color: white;
      }
      .badge-secondary {
        background-color: #475569;
        color: #cbd5e1;
      }
      .structure-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        font-size: 0.875rem;
      }
      .metric-label {
        color: #94a3b8;
      }
      .bridge-actions {
        display: flex;
        gap: 0.5rem;
        margin-top: 1rem;
      }
      .button-small {
        background-color: #2563eb;
        color: white;
        border: none;
        padding: 0.25rem 0.75rem;
        border-radius: 0.25rem;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.2s;
      }
      .button-small:hover {
        background-color: #1d4ed8;
      }
      .button-secondary {
        background-color: #475569;
      }
      .button-secondary:hover {
        background-color: #64748b;
      }
      .info-box {
        background-color: #334155;
        border-radius: 0.5rem;
        padding: 1rem;
      }
      .info-title {
        font-weight: 600;
        margin-bottom: 0.5rem;
      }
      .info-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .info-list li {
        margin: 0.5rem 0;
        font-size: 0.875rem;
        color: #cbd5e1;
      }
      .emoji {
        margin-right: 0.5rem;
      }
    </style>
  </head>
  <body>
    <div class="dashboard">
      <div class="container">
        <!-- Header -->
        <div class="header">
          <h1 class="title">üöÄ Space Mining Dashboard</h1>
          <p class="subtitle">
            Mine spatial DOM structures, isolate Light DOM components, and create metaverse bridges
          </p>
        </div>

        <!-- Mining Stats -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value blue">12</div>
            <div class="stat-label">Spatial Structures</div>
          </div>
          <div class="stat-card">
            <div class="stat-value green">8</div>
            <div class="stat-label">Isolated DOMs</div>
          </div>
          <div class="stat-card">
            <div class="stat-value purple">5</div>
            <div class="stat-label">Active Bridges</div>
          </div>
          <div class="stat-card">
            <div class="stat-value orange">3</div>
            <div class="stat-label">Queue Length</div>
          </div>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
          <div class="tab active" onclick="showTab('mine')">‚õèÔ∏è Mine Space</div>
          <div class="tab" onclick="showTab('structures')">üèóÔ∏è Spatial Structures</div>
          <div class="tab" onclick="showTab('isolated')">üîó Isolated DOMs</div>
          <div class="tab" onclick="showTab('bridges')">üåâ Metaverse Bridges</div>
        </div>

        <!-- Tab Content -->
        <div class="card">
          <!-- Mine Tab -->
          <div id="mine-tab" class="tab-content">
            <h2 class="card-title">üöÄ Start Space Mining</h2>
            <div class="mining-form">
              <input 
                type="url" 
                class="input" 
                placeholder="Enter URL to mine (e.g., https://example.com)"
                id="mining-url"
              />
              <button class="button" onclick="startMining()">
                üöÄ Start Mining
              </button>
            </div>
            
            <div class="info-box">
              <h3 class="info-title">How Space Mining Works:</h3>
              <ul class="info-list">
                <li><span class="emoji">‚Ä¢</span><strong>Spatial Analysis:</strong> Extracts 3D spatial structures from DOM elements</li>
                <li><span class="emoji">‚Ä¢</span><strong>Light DOM Isolation:</strong> Identifies and isolates optimizable DOM components</li>
                <li><span class="emoji">‚Ä¢</span><strong>Metaverse Mapping:</strong> Maps DOM structures to metaverse biomes and coordinates</li>
                <li><span class="emoji">‚Ä¢</span><strong>Bridge Generation:</strong> Creates routing bridges for metaverse access</li>
              </ul>
            </div>
          </div>

          <!-- Structures Tab -->
          <div id="structures-tab" class="tab-content" style="display: none;">
            <h2 class="card-title">üèóÔ∏è Spatial Structures (4)</h2>
            
            <div class="structure-card">
              <div class="structure-header">
                <div>
                  <div class="structure-title">navigation</div>
                  <div class="structure-url">https://example.com</div>
                  <div class="structure-path">/nav[0]</div>
                </div>
                <div>
                  <span class="badge badge-success">Light DOM Candidate</span>
                </div>
              </div>
              
              <div class="structure-metrics">
                <div>
                  <div class="metric-label">Dimensions</div>
                  <div>1200√ó80√ó10</div>
                </div>
                <div>
                  <div class="metric-label">Volume</div>
                  <div>960,000 cubic units</div>
                </div>
                <div>
                  <div class="metric-label">Potential Savings</div>
                  <div>25.8 KB</div>
                </div>
                <div>
                  <div class="metric-label">Biome Type</div>
                  <div style="text-transform: capitalize;">digital</div>
                </div>
              </div>
            </div>

            <div class="structure-card">
              <div class="structure-header">
                <div>
                  <div class="structure-title">content</div>
                  <div class="structure-url">https://example.com</div>
                  <div class="structure-path">/main[0]</div>
                </div>
                <div>
                  <span class="badge badge-success">Light DOM Candidate</span>
                </div>
              </div>
              
              <div class="structure-metrics">
                <div>
                  <div class="metric-label">Dimensions</div>
                  <div>800√ó600√ó20</div>
                </div>
                <div>
                  <div class="metric-label">Volume</div>
                  <div>9,600,000 cubic units</div>
                </div>
                <div>
                  <div class="metric-label">Potential Savings</div>
                  <div>42.1 KB</div>
                </div>
                <div>
                  <div class="metric-label">Biome Type</div>
                  <div style="text-transform: capitalize;">knowledge</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Isolated DOMs Tab -->
          <div id="isolated-tab" class="tab-content" style="display: none;">
            <h2 class="card-title">üîó Isolated DOM Components (3)</h2>
            
            <div class="structure-card">
              <div class="structure-header">
                <div>
                  <div class="structure-title">Isolated DOM Component</div>
                  <div class="structure-url">ID: space_abc123_1736774400</div>
                  <div class="structure-path">Source: space_def456_1736774395</div>
                </div>
                <div>
                  <span class="badge badge-success">Bridge active</span>
                </div>
              </div>
              
              <div class="structure-metrics">
                <div>
                  <div class="metric-label">Original Size</div>
                  <div>125.6 KB</div>
                </div>
                <div>
                  <div class="metric-label">Optimized Size</div>
                  <div>42.3 KB</div>
                </div>
                <div>
                  <div class="metric-label">Compression</div>
                  <div>66.3%</div>
                </div>
                <div>
                  <div class="metric-label">Quality Score</div>
                  <div>92/100</div>
                </div>
              </div>

              <div class="bridge-actions">
                <button class="button-small" onclick="openBridge('/bridge/lightdom-digital/space_abc123_1736774400')">
                  üåâ Open Bridge
                </button>
                <button class="button-small button-secondary" onclick="copyURL('/bridge/lightdom-digital/space_abc123_1736774400')">
                  üìã Copy URL
                </button>
              </div>
            </div>
          </div>

          <!-- Bridges Tab -->
          <div id="bridges-tab" class="tab-content" style="display: none;">
            <h2 class="card-title">üåâ Metaverse Bridges (3)</h2>
            
            <div class="structure-card">
              <div class="structure-header">
                <div>
                  <div class="structure-title">LightDOM ‚Üí DigitalRealm</div>
                  <div class="structure-url">/bridge/lightdom-digital/space_abc123</div>
                  <div class="structure-path">ID: space_abc123_1736774400</div>
                </div>
                <div>
                  <span class="badge badge-success">active</span>
                </div>
              </div>
              
              <div class="structure-metrics">
                <div>
                  <div class="metric-label">Throughput</div>
                  <div>95 TPS</div>
                </div>
                <div>
                  <div class="metric-label">Latency</div>
                  <div>68ms</div>
                </div>
                <div>
                  <div class="metric-label">Reliability</div>
                  <div>94%</div>
                </div>
                <div>
                  <div class="metric-label">Connected DOMs</div>
                  <div>2</div>
                </div>
              </div>

              <div style="display: flex; gap: 0.5rem; margin: 0.75rem 0;">
                <span class="badge" style="background-color: #2563eb;">üí¨ Chat</span>
                <span class="badge" style="background-color: #16a34a;">üìä Data Transfer</span>
                <span class="badge" style="background-color: #c084fc;">üéØ Asset Sharing</span>
                <span class="badge" style="background-color: #fb923c;">‚ö° Cross-Chain Computing</span>
              </div>

              <div class="bridge-actions">
                <button class="button-small" onclick="openBridge('/bridge/lightdom-digital/space_abc123')">
                  üåâ Open Bridge
                </button>
                <button class="button-small button-secondary" onclick="copyURL('/bridge/lightdom-digital/space_abc123')">
                  üìã Copy URL
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      function showTab(tabName) {
        // Hide all tab contents
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.style.display = 'none');
        
        // Remove active class from all tabs
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => tab.classList.remove('active'));
        
        // Show selected tab content
        const targetContent = document.getElementById(tabName + '-tab');
        if (targetContent) {
          targetContent.style.display = 'block';
        }
        
        // Add active class to clicked tab
        event.target.classList.add('active');
      }

      function startMining() {
        const url = document.getElementById('mining-url').value;
        if (!url) {
          alert('Please enter a URL to mine');
          return;
        }

        // Simulate mining process
        const button = event.target;
        button.textContent = '‚õèÔ∏è Mining...';
        button.disabled = true;

        // Simulate API call
        setTimeout(() => {
          button.textContent = 'üöÄ Start Mining';
          button.disabled = false;
          alert(`Space mining completed for ${url}!\n\nFound 4 spatial structures, isolated 3 DOM components, created 2 bridges.`);
        }, 3000);
      }

      function openBridge(bridgeURL) {
        // In a real application, this would open the bridge chat page
        window.open(bridgeURL, '_blank');
      }

      function copyURL(url) {
        // Copy full URL to clipboard
        const fullURL = window.location.origin + url;
        navigator.clipboard.writeText(fullURL).then(() => {
          alert('Bridge URL copied to clipboard!');
        }).catch(() => {
          // Fallback for older browsers
          const textArea = document.createElement('textarea');
          textArea.value = fullURL;
          document.body.appendChild(textArea);
          textArea.select();
          document.execCommand('copy');
          document.body.removeChild(textArea);
          alert('Bridge URL copied to clipboard!');
        });
      }
    </script>
  </body>
</html>